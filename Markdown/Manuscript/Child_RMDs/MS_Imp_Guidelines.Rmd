---
title: "MS_Imp_Guidelines"
output: html_document
date: '2022-07-21'
---

We considered prior literature on modelling practice and our own professional experience to identify: (i) some core ethical responsibilities of CHEM developers; (ii) attributes of CHEMs that can suggest fulfillment of these responsibilities; and (iii) criteria against which these attributes can be assessed. 

## Ethical responsibilities of CHEM developers 
For simplicity, we sought to identify one overarching ethical responsibility for modellers at each distinct phase of a CHEM project. As CHEMs are implemented as software, software development lifecycle (SDLC) models may provide an appropriate basis for identifying the main phases of a CHEM project. There are multiple SDLC models, each taking a different approach to the number, naming, definition, sequencing and iteration of project phases [@ruparelia2010software]. However, components of most SDLC models can broadly be mapped to the concepts of *planning* (in which software requirements and design specification are agreed), *development* (in which software is authored and tested) and *deployment* (in which software is made available as production ready tools for end-users). We contend that ethical responsibilities of computational modellers identified in prior literature [@10.3389/fpubh.2017.00068; @pliakos2021ethics; @thompson2022escape; @calder2018computational] can be summarised under the following three overarching goals (one for each phase): 

- **make socially acceptable value judgments** (when planning CHEM projects);

- **ensure model fitness for purpose** (when developing CHEMs); and

- **promote socially beneficial use of models** (once CHEMs have been deployed). 

There is significant scope for health economists to improve fulfilment of each of these responsibilities.

Misalignment between the values of computational model developers and those of the population groups affected by decisions based on their models presents significant ethical risks [@thompson2022escape; @duckett2022journey]. The value judgments of CHEM developers influence the assumptions, selection of model features and standards for evidence that shape the model development process [@HARVARD2020112975]. These value judgments are rarely made explicit, omissions that may lead to socially unacceptable policy recommendations [@duckett2022journey]. Ideally, it should be straightforward for CHEMs to be modified to reflect alternative value judgments. However, such adaptability depends in part on the approach taken to computational model implementation (see Table \@ref(tab:proscons)).

<!-- For example, to reduce the risk of inequitable policy implementation, it may be important for of a model to predict the benefits of harms of an intervention for different sub-populations [@10.3389/fpubh.2017.00068], but model developers may prefer to allocate a project budget to implementing other model features [@thompson2022escape]. -->

Computational modellers have duties both to take sufficient care that a computational model is adequate for the explicit purpose for which it was developed and to provide potential third-party users with the means of assessing its adequacy for their proposed purposes [@Erdemir2020; @Feenstra2022; @thompson2019escape; @10.3389/fpubh.2017.00068]. However, it is common for health economic models to have serious methodological flaws [@carletto_zanuzzi_sammarco_russo_2020; @WONDER2015467]; insufficient validation [@Ghabri2019; @kolovos2017model; @haji2013model], poor reproducibility [@Jalali2021; @McManus2019; @Bermejo2017]; and undeclared errors [@Radeva2020]. Appropriate computational implementation choices can help address many of these shortcomings, for example by automating quality assurance checks and facilitating manual reviews by third parties.

A health economic model will have limited public benefit if it not much used, if it is mis-used or when its acceptability and adequacy rapidly decay. Reuse of CHEMs as components of other models can potentially make model development more efficient [@Arnold2010; @garcia2021cost]. However, health economic models face challenges related to transferability across jurisdictions [@garcia2021cost] that create barriers to reuse. Without ongoing maintenance, a CHEM risks becoming less reliable with time [@garcia2021cost] and is at risk of being deployed for purposes for which it is poorly suited [@calder2018computational]. Currently, health economic models are rarely implemented computationally in a manner that facilitates routine updates [@Sampson2017], thus limiting the temporal window within which a CHEM can be validly applied. 
<!-- Reuse of models as components of other models can also make model implementation more efficient [@Arnold2010; @garcia2021cost] but the reusability of models is significantly shaped by computational implementation choices such as how model code and data are authored, documented, licensed and disseminated.  -->

<!-- Common barriers to model re-use include commercial and legal considerations [@Feenstra2022; @Pouwels2022], as well as challenges related to model transferability across jurisdictions [@garcia2021cost]. -->

## CHEM attributes associated with ethical modelling practice
Health economist responsibilities during the planning, implementation and use of CHEMs are easier to state than to measure.  However, aspects of ethical modelling practice may be inferred from measurable attributes of CHEMs. As described in Table \@ref(tab:timelygls),  we believe that the creators of transparent, reusable and updatable (TRU) CHEMs are likely to have fulfilled a number of their ethical obligations.  We therefore selected these model attributes to use as the basis for deriving ethical assessment criteria.

```{r, child = child_docs_ls$two, echo=FALSE}
```

Taking steps to make computational models **transparent** is an important part of ethical public health modelling practice [@10.3389/fpubh.2017.00068]. Guidance on transparency in health economic modelling recommended that model code and data should be clearly documented [@Eddy2012]. Notably, the same guidelines, published over ten years ago, did not recommend sharing model code and data. However, more recent healthcare modelling guidance does recommend publicly dissemination of such artefacts [@Erdemir2020]. Online repository services such as Zenodo [@Zenodo2013] and Dataverse [@Dataverse2007] provide persistent storage solutions that generate a Digital Object Identifier (DOI) for each code and data collection. Ensuring that calculations are correct and consistent with model specifications is an essential part of CHEM quality assurance [@techver2019]. The extensiveness of such verification checks can be reported using the concept of code coverage [@ERICWONG2010188] - the proportion of model code that has been explicitly tested. Tests should ideally combine both unit tests (to verify that small, isolated sections of code produce the correct output when run independently) and acceptance tests (to verify that the correct output is produced when multiple code components are run together to perform tasks that meet core user-requirements [@martin2003agile]). The nature and extent of individual model authorship contributions can become unclear when models are implemented over longer time-frames with a large and changing group of collaborators [@thompson2022escape]. This issue can be addressed by use of online repository services such as GitHub [@github2007], that provide citation tools and can transparently record all individual code contributions to a modelling project over its lifecycle.

A CHEM that is **reusable** also signals ethical modelling practice. Making a CHEM’s code, data and documentation publicly available is increasingly considered good practice, yet is not sufficient to promote model re-use.  Key concepts in health economic model reuse include generalisability (application without adaptation) and transferability (selective reuse and/or modification of model components) [@RN39]. Writing model algorithms as collections of functions (short, self-contained and reusable software routines that each perform a discrete task) is good scientific computing practice [@Wilson_2017] and promotes selective reuse. Computational implementations that store model code and data in distinct files and locations (as opposed to embedding data such as parameter values into source code) are easier to selectively modify. Modular implementations construct models from multiple independently reusable and replaceable sub-models (modules) [@pan2021modular]. The programming concept inheritance [@8717448], deployed in object-oriented programming approaches, can facilitate the duplication and selective modification of models. Granting permissions to others to use, test and adapt models and their components, can be facilitated by two broad categories of open source licenses. Some guidance strongly recommends the use of permissive licensing [@Wilson_2017] that provides users with great flexibility as to the purposes (including commercial) for which content can be re-used. An alternative approach is to use copyleft licenses [@copyleft2022] that can require content users to distribute any derivative works they create under similar open-source arrangements. 
<!-- Compared to using commercial modelling software, authoring CHEMs in an open-source language like R [@RCORE2022] makes it easier to -->
<!-- Using open-source development platforms and licenses can aid both generalizability and transferability. -->
<!-- The choices that CHEM developers make about model implementation and licensing will also shape who can use a model and for what purposes.  -->
<!-- are relatively easier to selectively modify. -->

Models should be **updatable** so that they remain valid for longer, evolving as new evidence emerges and the systems being modelled change [@Jenkins2021; @garcia2021cost]. Ensuring that a model is regularly reviewed to identify and implement required improvements is a recommended defense against model validity decay [@calder2018computational]. Sustainable maintenance of open source research software requires both a core development team and an active user community [@info:doi/10.2196/20028]. Online communities can be an efficient means of engaging model users in testing each version of a model, identifying issues and suggesting improvements. Services such as GitHub [@github2007] provide collaborative code development tools [@MERGEL2015464] that help elicit, integrate and reconcile contributions from multiple contributors and to ensure each update is uniquely identifiable and retrievable. It is also important that verification checks are rerun with each model update, a task that can be automated using the software development practice of continuous integration [@CI2017].  The risk of model revisions having unintended consequences for third party users can be mitigated through the use of deprecation conventions [@zhou2016api] that take an informative and staged approach to retiring outdated model code and data.
<!-- Currently, the core development team for a CHEM will be typically be funded to produce a project end-point deliverable whose specifications are well defined early in the project. For more complex and multi-purpose CHEMs, particularly those designed to be incorporated into decision support systems, it may be better for development teams to adopt Agile Software Development [@beck2001manifesto], an approach that has been recommended for complex public health software projects [@10.3389/fpubh.2022.899874]. An Agile model will be less clearly specified in the initial project plan, but will instead continually develop in response to the requirements and feedback of users, who are provided with an initial, simplified working version of the model at the earliest feasible opportunity. -->

##	Assessment criteria
For each CHEM attribute that suggests ethical CHEM modelling practice, we identified assessment criteria that have the potential to be met with the assistance of software frameworks.

How **transparent** a CHEM is can be assessed against the criteria:

-	**T1**: All model code, non-confidential data and testing procedures and outcomes are available in open access repositories.

-	**T2**: It is easy to see who developed and tested each part of the CHEM and to identify the modelling team’s assumptions, judgments and theories about CHEM development and use.

How **reusable** a CHEM is can be assessed against the criteria:

-	**R1**: Model code and data are implemented to facilitate both generalisability and transferability.

-	**R2**: Terms of use allow anyone to reuse model code and non-confidential data, in whole or in part, without charge, and for purposes that include the creation of derivative works.

How **updatable** a CHEM is can be assessed against the criteria:

-	**U1**: Technical infrastructure is in place to support version control and collaboration with model users in the maintenance of a model.

-	**U2**: Each new release of a model is retested, with changes implemented to minimize disruptions for existing model users.
